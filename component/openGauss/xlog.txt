
pg_resetxlog
pg_resetxlog是一个重新设置数据库事务文件的工具


OPTION取值如下所示：

DATADIR

需要修改的数据库目录，确保路径正确。

-e XIDEPOCH

设置下一个事务id。

-f

强制更新。

-l xlogfile

为新的事务日志指定最小的WAL起始位置。

-m XID

设置下一个multitransaction ID。

-n

不更新，仅显示配置文件的值。

-o OID

设置下一个OID。

-O OFFSET

设置下一个multitransaction的偏移量。

-V, ―version

显示版本信息。

-x XID

设置下一个事务ID。

-?, ―help

打印帮助信息。






#### 
xlog_file_size = 549755813888   # 512GB
xlog_file_size=1073741824   # 1GB

# 查看oid xid
pg_controldata -D /data/postgresql/data
pg_resetxlog -o 24579 -x 58288 -f /data/postgresql/data




